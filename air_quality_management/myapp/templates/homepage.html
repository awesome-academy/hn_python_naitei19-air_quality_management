{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "Homepage - Air Quality Data" %}{% endblock %}

{% block content %}
    <!-- Chart place -->
    <div id="myChart" style="max-width: 700px; height: 400px; margin: 0 auto;"></div>

    <!-- Table place -->
    <div class="container-1">
        <h1 style="color: white; padding: 0 0 20px 0;">{% trans "AIR QUALITY MANAGEMENT FOR CITIES" %}</h1>
        <input type="text" id="searchInput" placeholder="{% trans 'Search for locations...' %}">
        <table id="dataTable">
            <thead>
                <tr >
                    <th>{% trans "Location" %}</th>
                    <th>{% trans "Air Quality Index" %}</th>
                    <th>{% trans "Timestamp" %}</th>
                    <th>{% trans "Main Pollutant" %}</th>
                    <th>{% trans "Pollution Level" %}</th>
                    <th>{% trans "Details" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in data %}
                    <tr>
                        <td>{{ entry.city }}</td>
                        <td>{{ entry.air_quality_index }}</td>
                        <td>{{ entry.timestamp }}</td>
                        <td>{{ entry.main_pollutant }}</td>
                        <td>{{ entry.pol_level }}</td>
                        <td><a href="{% url 'city_details' pollutant_id=entry.pollutant_id.id %}">{% trans "View Details" %}</a></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="{% static 'js/code.jquery.com_jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'js/search.js' %}"></script>
    <script src="{% static 'js/chart.js' %}"></script>      
{% endblock %}
